<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             xmlns:vm="using:D8_Demo.ViewModels"
             x:DataType="vm:SettingsViewModel"
             xmlns:u="https://irihi.tech/ursa"
             x:Class="D8_Demo.Views.SettingView">

    <Design.DataContext>
        <vm:SettingsViewModel />
    </Design.DataContext>

    <Grid Margin="20" RowDefinitions="Auto,Auto,Auto,Auto,Auto" RowSpacing="20">
        <Border BorderThickness="1" BorderBrush="Gainsboro" Padding="10" CornerRadius="10">
            <DockPanel>
                <TextBlock Text="主题" VerticalAlignment="Center" FontWeight="Bold" />
                <ComboBox HorizontalAlignment="Right" ItemsSource="{Binding Themes}"
                          SelectedItem="{Binding SelectedTheme, Mode=TwoWay}" />
            </DockPanel>
        </Border>
        
        <Border Grid.Row="1" BorderThickness="1" BorderBrush="Gainsboro" Padding="10" CornerRadius="10">
            <DockPanel>
                <TextBlock Text="窗口大小" VerticalAlignment="Center" FontWeight="Bold"></TextBlock>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                    <TextBlock Text="长" VerticalAlignment="Center"></TextBlock>
                    <TextBox Text="800" VerticalAlignment="Center"></TextBox>
                    <TextBlock Text="高" VerticalAlignment="Center"></TextBlock>
                    <TextBox Text="1920" VerticalAlignment="Center"></TextBox>
                </StackPanel>
            </DockPanel>
        </Border>
        <Border Grid.Row="2" BorderThickness="1" BorderBrush="Gainsboro" Padding="10" CornerRadius="10">
            <DockPanel>
                <TextBlock Text="卡片读取间隔(ms)" VerticalAlignment="Center" FontWeight="Bold"></TextBlock>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                    <Slider MaxWidth="400" Maximum="10000" Minimum="500" Value="{Binding SleepTime}" MinWidth="200" VerticalAlignment="Center"></Slider>
                    <TextBox MinWidth="40" Text="{Binding SleepTime}"></TextBox>
                </StackPanel>
            </DockPanel>
        </Border>
        
        <Border Grid.Row="3" BorderThickness="1" BorderBrush="Gainsboro" Padding="10" CornerRadius="10">
            <DockPanel>
                <TextBlock Text="读卡器声音" VerticalAlignment="Center" FontWeight="Bold"></TextBlock>
                <ToggleSwitch OnContent="开" OffContent="关" IsChecked="{Binding Sound}" HorizontalAlignment="Right"></ToggleSwitch>
            </DockPanel>
        </Border>

        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10" Margin="0,20,0,0">
            <!-- 通过 $parent 取得祖先 Window 作为 CommandParameter（Avalonia 支持 $parent 语法）-->
            <Button Content="保存" Command="{Binding SaveCommand}"
                    CommandParameter="{Binding $parent[Window]}" />
            <Button Content="重置" Theme="{DynamicResource BorderlessButton}" Classes="Warning"
                    Command="{Binding ResetCommand}"
                    CommandParameter="{Binding $parent[Window]}" />
        </StackPanel>
    </Grid>

</UserControl>